# Testausdokumentti

Luonnollisen kielen käsittelyyn liittyvien ohjelmien testaaminen on lähtökohtaisesti usein varsin haastavaa. Vaarana helposti on, että ohjelma toimii vain tietyille erikoistapauksille, joita käytetään testeissä esimerkkeinä. Vaihtoehtoisesti voi käydä niin, että ohjelma toimii kyllä jonkun tietyn säännön mukaisesti, mutta erikoistapausten huomioiminen kattavasti olisi niin työlästä, että hyvin laajojen ja monia sanoja kattavien testien pitäisi olla tarkoituksella "huonoja". Voitaisiin ajatella esimerkiksi ohjelmaa, joka taivuttaa sanoja suomen kielessä yksikön nominatiivista yksikön genetiiviin. Sääntöjen avulla voidaan konstruoida osa genetiiveistä toteuttamalla sanoihin astevaihtelu ja n-kirjaimen lisääminen loppuun. Silloin esimerkiksi "kone: koneen" taipuu oikein, samoin "into: innon". Kuitenkaan ilman sanatietokantaa ohjelma ei voi mistään tietää, että "auto" on vierasperäinen sana ja taipuu siksi ilman astevaihtelua "auto: auton" (verrattuna esimerkiksi sanaan "hauta: haudan") tai esimerkiksi että "siili" ja "tiili" kuuluvat samankaltaisesta vartalostaan huolimatta eri taivutusluokkiin: "siili: siilin" mutta "tiili: tiilen". Toiseksi ongelmaksi kielioppisääntöjen ja lauserakenteiden lisäksi muodostuu tekstin sisällön tarkistaminen. Kieliopillisesti korrektin tekstin tunnistaminen on tietokoneelle edes jossakin määrin lähestyttävä tehtävä, mutta tekstin semanttisen ja pragmaattisen sisällön hahmottamista ei juuri osata tehdä, ja etenkin sen automaattinen testaaminen on varsin vaikea vaikkakin kiinnostava ongelma.

Tässä projektissa kaikista vaikein testattava tähän mennessä lienee sanojen automaattinen generointi trie-rakenteeseen tallennetun tekstin perusteella. Etenkin satunnaisten sanojen muodostamiseta on hankala testata JUnit-testien avulla. Olenkin siksi testannut metodeita käsin, ja tutkinut, onko niiden tuottama syöte järkevän näköistä. Toki joitakin asioita on mahdollista testata myös satunnaisissa sanoissa automaattisesti: esimerkiksi niiden kaikkien tulee luonnollisesti olla peräisin annetusta tekstistä.

Tietorakenteiden, eli tässä työssä trien ja listan testaamisessa sekä Teksti-luokan metodien testaamisessa JUnit-testit toimivat sen sijaan hyvin. Triessä olen huomioinut erityisesti mahdollisesti hankalat tapaukset, kuten saman sanan lisääminen useaan kertaan, samalla tavalla alkavan sanan lisääminen tai poistaminen, ja samalla tavalla loppuvan sanan poistaminen triestä. Testit huomioivat sekä sanan löytymisen triestä että jokaiseen solmuun liittyvän tilastoinnin siitä, kuinka moneen sanaan solmu kuuluu. Tilastosta on hyötyä mm. poistamisen tehostamisessa, sillä niiden avulla ei tarvitse käydä sanaa läpi lopusta alkuun nähdäkseen, mitkä solmuista kuuluvat ainoastaan tähän sanaan, vaan voidaan suoraan poistaa edelliseltä jonkin sanan kanssa yhteiseltä solmulta ensimmäinen sellainen lapsi, joka kuuluu vain poistettavaan sanaan. Näin puusta ei katoa ylimääräisiä solmuja, joita olisi tarvittu muualla. Lisäksi solmujen tilastoista on hyötyä, jos halutaan toteuttaa Generaattori-luokalle kaikista yleisimpien sanojen generointia. Myös sitä on mahdollista testata JUnit-testien avulla.
